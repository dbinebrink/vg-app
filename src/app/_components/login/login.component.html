<!-- all forms need FormsModule imported, fyi -->

<h1>Log In</h1>

<hr>

<p id="error-box"></p>

<div class="card">

  <div class="card-body">

    <form novalidate (ngSubmit)="login(loginForm)" #loginForm="ngForm" autocomplete="off">

        <div class="form-group row">
          <label class="col-md-2 col-form-label" for="userNameId">Username</label>
          <div class="col-md-8">
            <input class="form-control" id="userNameId" type="text" placeholder="Username" required ngModel name="userName" #userNameVar="ngModel"
                   [ngClass]="{'is-invalid': (userNameVar.touched || userNameVar.dirty) && !userNameVar.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="userNameVar.errors?.required"> Username is required. </span>
            </span>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-md-2 col-form--label" for="passwordId">Password</label>
          <div class="col-md-8">
            <input class="form-control" id="passwordId" type="password" placeholder="Password" required ngModel name="password" #passwordVar="ngModel"
                   [ngClass]="{'is-invalid': (passwordVar.touched || passwordVar.dirty) && !passwordVar.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="passwordVar.errors?.required"> Password is required. </span>
            </span>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 offset-md-2">
            <button class="btn btn-primary mr-3" type="submit" style="width:80px" [disabled]="!loginForm.valid"> Log In </button>
          </div>
        </div>

    </form>

  </div>

  <div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}} </div>
</div>